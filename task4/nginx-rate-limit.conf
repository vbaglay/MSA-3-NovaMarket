http {
    limit_req_zone $binary_remote_addr zone=web:10m rate=50r/s;
    limit_req_zone $binary_remote_addr zone=mobile:10m rate=30r/s;

    server {
        listen 80;

        # Веб-приложение - отдельный путь
        location /api/web/ {
            limit_req zone=web burst=100 nodelay;
            proxy_pass http://backend/;
        }

        # Мобильное приложение - отдельный путь  
        location /api/mobile/ {
            limit_req zone=mobile burst=60 nodelay;
            proxy_pass http://backend/;
        }
    }
}